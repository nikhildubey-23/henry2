{% extends "admin/base.html" %}

{% block title %}{% if rating %}Edit Rating{% else %}New Rating{% endif %} - Henri Admin{% endblock %}

{% block content %}
<div class="mb-6">
    <a href="{{ url_for('admin_ratings') }}" class="text-primary hover:underline">&larr; Back to Ratings</a>
</div>

<div class="bg-white rounded-lg shadow-md p-6">
    <h1 class="text-2xl font-bold mb-6">{% if rating %}Edit Rating{% else %}New Rating{% endif %}</h1>
    
    <form method="POST">
        <div class="grid grid-cols-1 md:grid-cols-2 gap-4 mb-4">
            <div>
                <label class="block text-sm font-medium text-gray-700 mb-1">Customer Name</label>
                <input type="text" name="customer_name" value="{{ rating.customer_name if rating else '' }}" required class="w-full border border-gray-300 rounded-lg px-4 py-2 focus:outline-none focus:border-primary">
            </div>
            <div>
                <label class="block text-sm font-medium text-gray-700 mb-1">Rating</label>
                <select name="rating" class="w-full border border-gray-300 rounded-lg px-4 py-2 focus:outline-none focus:border-primary">
                    <option value="5" {% if rating and rating.rating == 5 %}selected{% endif %}>5 Stars - Excellent</option>
                    <option value="4" {% if rating and rating.rating == 4 %}selected{% endif %}>4 Stars - Very Good</option>
                    <option value="3" {% if rating and rating.rating == 3 %}selected{% endif %}>3 Stars - Good</option>
                    <option value="2" {% if rating and rating.rating == 2 %}selected{% endif %}>2 Stars - Fair</option>
                    <option value="1" {% if rating and rating.rating == 1 %}selected{% endif %}>1 Star - Poor</option>
                </select>
            </div>
        </div>
        
        <div class="mb-4">
            <label class="block text-sm font-medium text-gray-700 mb-1">Review</label>
            <textarea name="review" rows="4" class="w-full border border-gray-300 rounded-lg px-4 py-2 focus:outline-none focus:border-primary">{{ rating.review if rating else '' }}</textarea>
        </div>
        
        <div class="mb-6">
            <label class="flex items-center">
                <input type="checkbox" name="is_approved" {% if rating and rating.is_approved %}checked{% endif %} class="mr-2">
                <span class="text-sm font-medium text-gray-700">Approved (visible on product page)</span>
            </label>
        </div>
        
        <button type="submit" class="bg-primary text-white px-6 py-2 rounded-lg hover:bg-secondary transition">
            Save Rating
        </button>
    </form>
</div>
{% endblock %}
